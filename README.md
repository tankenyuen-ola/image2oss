# comfyui_image2oss

## æ›´æ–°è¯´æ˜

æœ¬åˆ†æ”¯åŸºäºåŸç‰ˆæœ¬è¿›è¡Œäº†ä»¥ä¸‹æ”¹è¿›ï¼š

### ğŸ†• æ–°å¢åŠŸèƒ½
1. **oss2vidèŠ‚ç‚¹** - æ–°å¢ä»é˜¿é‡Œäº‘OSSè·å–è§†é¢‘æ–‡ä»¶çš„åŠŸèƒ½ï¼Œæ”¯æŒç›´æ¥ä¸‹è½½è§†é¢‘æ–‡ä»¶åˆ°æœ¬åœ°ä¸´æ—¶è·¯å¾„
2. **endpointå‚æ•°ä¼˜åŒ–** - oss2imageå’Œoss2vidèŠ‚ç‚¹çš„endpointå‚æ•°ç°åœ¨æ”¯æŒè‡ªå®šä¹‰è¾“å…¥ï¼Œä¸å†é™åˆ¶äºé¢„è®¾åˆ—è¡¨ï¼Œå¯ä»¥è¾“å…¥ä»»æ„æœ‰æ•ˆçš„OSSç«¯ç‚¹åœ°å€

### ğŸ“‹ èŠ‚ç‚¹å¯¹ç…§è¡¨
| åŸç‰ˆèŠ‚ç‚¹å | æ–°ç‰ˆèŠ‚ç‚¹å | ä¸»è¦å˜æ›´ |
|-----------|-----------|----------|
| oss2image | oss2image | endpointå‚æ•°æ”¹ä¸ºå¯è¾“å…¥ä»»æ„å­—ç¬¦ä¸² |
| - | **oss2vid** | ğŸ†• æ–°å¢è§†é¢‘ä¸‹è½½åŠŸèƒ½ |

**ğŸ”„ æ”¹è¿›è¯´æ˜**: åœ¨oss2imageå’Œoss2vidèŠ‚ç‚¹ä¸­ï¼Œendpointå‚æ•°ç°åœ¨æ”¯æŒæ‰‹åŠ¨è¾“å…¥ä»»æ„æœ‰æ•ˆçš„OSSç«¯ç‚¹åœ°å€ï¼Œä¸å†å±€é™äºé¢„è®¾çš„ä¸‹æ‹‰åˆ—è¡¨é€‰é¡¹ã€‚è¿™æ ·å¯ä»¥æ”¯æŒæ›´å¤šåœ°åŒºå’Œè‡ªå®šä¹‰ç«¯ç‚¹é…ç½®ã€‚

### ğŸ¥ oss2vidèŠ‚ç‚¹è¯´æ˜
æ–°å¢çš„oss2vidèŠ‚ç‚¹ç”¨äºä»é˜¿é‡Œäº‘OSSä¸‹è½½è§†é¢‘æ–‡ä»¶ï¼š
- **è¾“å…¥**: filename(è§†é¢‘æ–‡ä»¶è·¯å¾„)ã€access_key_idã€access_key_secretã€security_tokenã€bucket_nameã€endpoint
- **è¾“å‡º**: video_path(æœ¬åœ°ä¸´æ—¶æ–‡ä»¶è·¯å¾„çš„å­—ç¬¦ä¸²)
- **æ”¯æŒæ ¼å¼**: æ”¯æŒå¸¸è§è§†é¢‘æ ¼å¼(mp4ã€aviã€movç­‰)
- **ä½¿ç”¨åœºæ™¯**: å¯ä»¥å°†OSSä¸­å­˜å‚¨çš„è§†é¢‘æ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°ï¼Œä¾›åç»­çš„è§†é¢‘å¤„ç†èŠ‚ç‚¹ä½¿ç”¨

---

## åŠŸèƒ½
### è·å–å›¾ç‰‡
1. image2oss  ä¿å­˜å›¾ç‰‡åˆ°é˜¿é‡Œäº‘ossä¸Š,ä½¿ç”¨è‡ªå»ºæœåŠ¡é˜¿é‡Œäº‘AK&SK&Token
2. image2oss-sts-service ä¿å­˜å›¾ç‰‡åˆ°é˜¿é‡Œäº‘ossä¸Š,ä½¿ç”¨è‡ªå»ºæœåŠ¡è·å–é˜¿é‡Œäº‘AK&SK&Token
3. image2oss-tag ä¿å­˜å›¾ç‰‡åˆ°é˜¿é‡Œäº‘ossä¸Š,å¹¶æ·»åŠ "Aiç”Ÿæˆ"çš„æ°´å°,ä½¿ç”¨é˜¿é‡Œäº‘AK&SK(æ”¯æŒststoken)
4. image2oss-tag-sts-service ä¿å­˜å›¾ç‰‡åˆ°é˜¿é‡Œäº‘ossä¸Š,å¹¶æ·»åŠ "Aiç”Ÿæˆ"çš„æ°´å°,ä½¿ç”¨è‡ªå»ºæœåŠ¡é˜¿é‡Œäº‘AK&SK&Token
5. oss2image ä»é˜¿é‡Œäº‘ossä¸Šè·å–å›¾ç‰‡,ä½¿ç”¨é˜¿é‡Œäº‘AK&SK(æ”¯æŒststoken)
6. oss2image-sts-service ä»é˜¿é‡Œäº‘ossä¸Šè·å–å›¾ç‰‡,ä½¿ç”¨è‡ªå»ºæœåŠ¡é˜¿é‡Œäº‘AK&SK&Token
7. url2image ä»urlè·å–å›¾ç‰‡
8. **oss2vid ä»é˜¿é‡Œäº‘ossä¸Šè·å–è§†é¢‘æ–‡ä»¶,ä½¿ç”¨é˜¿é‡Œäº‘AK&SK(æ”¯æŒststoken)** ğŸ†•


## Quickstart

1. å®‰è£… [ComfyUI](https://docs.comfy.org/get_started).
2. å®‰è£… [ComfyUI-Manager](https://github.com/ltdrdata/ComfyUI-Manager)
3. è¿è¡Œ`comfy node registry-install image2oss` æˆ–[ç›´æ¥ä¸‹è½½](https://registry.comfy.org/publishers/nxt5656/nodes/image2oss)æ’ä»¶åˆ°comfyuiçš„custom_nodesç›®å½•
4. é‡å¯ ComfyUI.

## å‚æ•°è¯´æ˜
### filename
æ ¼å¼ä¸ºå­—ç¬¦ä¸²åˆ—è¡¨,è¿™ä¸ªåˆ—è¡¨ä¸­æ¯ä¸ªå­—ç¬¦ä¸²æ˜¯å›¾ç‰‡åœ¨ossæ—¶çš„å¯¹è±¡åç§°,å¿…é¡»åŒ…å«å®Œæ•´ossè·¯å¾„.
æ³¨æ„:ä¿å­˜å›¾ç‰‡åˆ°ossæ—¶,è¿™é‡Œæ˜¯ä¸ªåˆ—è¡¨,å¯ä»¥é€šè¿‡imageè¾“å…¥å¤šå¼ å›¾ç‰‡,ä¸filenameåˆ—è¡¨æ•°é‡ä¿æŒä¸€è‡´

### access_key_id
é˜¿é‡Œäº‘ak

### access_key_secret
é˜¿é‡Œäº‘akå¯¹åº”çš„å¯†é’¥

### security_token
é˜¿é‡Œäº‘STSå®‰å…¨ä»¤ç‰Œ

### sts_service_url
è·å–é˜¿é‡Œäº‘akä¿¡æ¯çš„åœ°å€
è¿”å›æ•°æ®æ ¼å¼ä¸º:
```json
{
  "requestId": "éå¿…è¦",
  "success": true,
  "errorMessage": "",
  "data": {
    "accessKeyId": "é˜¿é‡Œäº‘AK",
    "accessKeySecret": "é˜¿é‡Œäº‘SK",
    "securityToken": "é˜¿é‡Œäº‘STSå®‰å…¨ä»¤ç‰Œ",
    "expiration": "2025-04-29T14:37:56Z",
    "arn": "éå¿…è¦",
    "assumedRoleId": "éå¿…è¦"
  }
}
```

### bucket_name
é˜¿é‡Œäº‘ bucket åç§°

### endpoint
[ossçš„endpoing](https://help.aliyun.com/zh/oss/user-guide/regions-and-endpoints)

## AIæ ‡è®°
ä¸­å›½æ³•è§„è¦æ±‚,aiç”Ÿæˆå†…å®¹å¿…é¡»æ·»åŠ aiç›¸å…³æ ‡è®°,æ ‡å‡†å¦‚ä¸‹:

[ç½‘ç»œå®‰å…¨æŠ€æœ¯ äººå·¥æ™ºèƒ½ç”Ÿæˆåˆæˆå†…å®¹æ ‡è¯†æ–¹æ³•](https://www.tc260.org.cn/upload/2025-03-15/1742009439794081593.pdf)
